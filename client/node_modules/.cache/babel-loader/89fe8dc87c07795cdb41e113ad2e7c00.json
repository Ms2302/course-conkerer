{"ast":null,"code":"let e = !1;\ntry {\n  document, e = !0;\n} catch (e) {}\nconst t = {\n    documentHead: e ? document.getElementsByTagName(\"head\")[0] : void 0,\n    apiUrl: \"https://api.anymod.com/v2/\",\n    cdnUrl: \"https://cdn.anymod.com/\"\n  },\n  s = {\n    initialize() {\n      this.ApiUrl = this.ApiUrl || t.apiUrl, this.Script = this.Script || {\n        ran: !1\n      }, this.Page = this.Page && this.Page.page ? this.Page : {\n        page: {},\n        mountedModObjs: {},\n        unmountedEls: [],\n        mountedIds() {\n          return Object.keys(this.mountedModObjs);\n        },\n        mapMmos(e) {\n          e && \"function\" == typeof e && this.mountedIds().map(t => e(this.mountedModObjs[t]));\n        },\n        priorPages: []\n      }, this.Opts = this.Opts && this.Opts.env ? this.Opts : {\n        env: \"production\",\n        api: !0,\n        inert: !1,\n        preview: !1,\n        tips: !0,\n        priority: 3,\n        version: \"default\"\n      }, this.Version = this.Version || {\n        currentVersion: \"default\"\n      };\n    },\n    assignFromAnyModPageJsIfMatch: () => {\n      window.AnyModPageJs && window.AnyModPageJs.page && window.AnyModPageJs.page.host === window.location.host && window.AnyModPageJs.page.pathname === window.location.pathname && Object.keys(window.AnyModPageJs).map(e => s.Page[e] = JSON.parse(JSON.stringify(window.AnyModPageJs[e])));\n    }\n  };\ns.initialize();\nconst n = {\n  name: \"\",\n  lowerCase: \"\",\n  setAlias: e => {\n    n.name = e, n.lowerCase = e.toLowerCase();\n    try {\n      s.Alias = window[e].m, s.Project = window[e].o, Object.assign(s.Opts, window[e].r || {}), s.rq = s.rq || [], window[e].rq && window[e].rq.length > 0 && window[e].rq.map(e => {\n        e && \"function\" == typeof e && s.rq.push(e);\n      });\n    } catch (e) {}\n    s.Opts.preview ? s.Opts.tips = !1 : s.Opts.inert && (s.Opts.api = !1, s.Opts.tips = !1), s.External = {\n      name: e\n    }, \"Userfront\" === e && (s.External.project = s.Project, s.Project = \"59M89E\", s.Opts = s.Opts || {}, s.Opts.tips = !1);\n  }\n};\n\"object\" == typeof window && window.amvartem && (n.setAlias(window.amvartem), delete window.amvartem), n.name || n.setAlias(\"AnyMod\");\nconst r = {},\n  o = (e, t, n, r) => new Promise((o, a) => {\n    try {\n      let i = new XMLHttpRequest();\n      if (i.open(e, t), ((e, t) => {\n        e.setRequestHeader(\"Accept\", \"application/json, text/plain, */*\"), e.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\"), s.External && s.External.project ? (e.setRequestHeader(\"X-Page-Url\", window.location.href), e.setRequestHeader(\"X-Tenant-Id\", s.External.project)) : (e.setRequestHeader(\"AnyMod-URL\", window.location.href), e.setRequestHeader(\"AnyMod-Project\", s.Project)), t && Object.keys(t).map(s => {\n          e.setRequestHeader(s, t[s]);\n        });\n      })(i, r), i.onreadystatechange = () => {\n        if (4 == i.readyState) {\n          if (200 == i.status) return o(JSON.parse(i.responseText));\n          a(i.statusText);\n        }\n      }, \"GET\" == e) i.send();else {\n        const e = JSON.stringify(n || {});\n        i.send(e);\n      }\n    } catch (e) {\n      a(e);\n    }\n  });\nr.get = () => {\n  if (!1 === s.Opts.api) return Promise.resolve({});\n  const e = (() => {\n      if (!s.Opts.preview) return !1;\n      try {\n        if (document.cookie.indexOf(\"cio.preview\") > -1) return document.cookie.split(\"cio.preview=\")[1].split(\";\")[0];\n      } catch (e) {}\n      return !1;\n    })(),\n    t = e ? {\n      \"AnyMod-Preview\": e\n    } : void 0;\n  return ((e, t) => o(\"GET\", e, null, t))(s.ApiUrl + \"page?anymod=\" + (() => {\n    let e = window.location.pathname;\n    try {\n      return encodeURIComponent(btoa(e).replace(/=/g, \"\")).split(\"\").reverse().join(\"\");\n    } catch (t) {\n      return encodeURIComponent(e);\n    }\n  })(), t);\n}, r.post = e => {\n  if (!1 === s.Opts.api) return Promise.resolve({});\n  if (s.Opts.preview) throw new Error(\"Skipped post request: missing preview identifier\");\n  return o(\"POST\", s.ApiUrl + \"page\", {\n    explicitKeys: e\n  });\n}, r.put = (e, t) => {\n  if (!1 === s.Opts.api) return Promise.resolve({});\n  if (s.Opts.preview) throw new Error(\"Skipped put request: missing preview identifier\");\n  return o(\"PUT\", s.ApiUrl + \"page/\" + e, {\n    explicitKeys: t\n  });\n};\nconst a = {\n    scriptTag: () => {\n      try {\n        document;\n      } catch (e) {\n        return;\n      }\n      return document.getElementById(n.name + \"-script\");\n    },\n    styleTag: () => {\n      try {\n        document;\n      } catch (e) {\n        return;\n      }\n      return document.querySelector(`[${n.lowerCase}-styles]`);\n    }\n  },\n  i = (e, t) => {\n    e && \"function\" == typeof e && e(t);\n  };\na.createInstanceId = (e, t) => `${e}${t = t || \"-\"}${Math.random().toString(36).substr(2, 7)}`, a.debugLog = e => {\n  s && s.Opts && s.Opts.debug && (\"string\" == typeof e && (e = [e]), console.log.apply(null, [`[${n.name}]`].concat(e)));\n};\nconst d = (e, t) => {\n    const s = [];\n    return e.modsWithoutRemainingAssets.map(n => {\n      e.modsMounted.indexOf(n) > -1 || n && t[n] && s.push(t[n]);\n    }), s;\n  },\n  c = e => {\n    const t = (() => {\n        const e = [].slice.call(document.querySelectorAll(`[id^=\"${n.lowerCase}-\"],[data-${n.lowerCase}]`)),\n          t = [];\n        return e.map(e => {\n          if (e && e.id && e.id !== n.lowerCase + \"-blank\") {\n            const s = new RegExp(`(${n.lowerCase}-)`, \"g\"),\n              r = e.id.replace(s, \"\");\n            t.indexOf(r) < 0 && t.push(r);\n          }\n        }), t;\n      })(),\n      s = [];\n    for (let n = 0; n < t.length; n++) {\n      if (s.length >= e) return s;\n      s.indexOf(t[n]) < 0 && s.push(t[n]);\n    }\n    return s;\n  },\n  l = (e, t) => {\n    e && t && (e.queuedAssets = e.queuedAssets.filter(e => e !== t));\n  },\n  u = (e, t, s, n) => {\n    if (t.queuedAssets.indexOf(e) > -1) return;\n    if (document.querySelector('script[src=\"' + e + '\"]')) return t.assetsOnPage.push(e), i(s);\n    t.queuedAssets.push(e);\n    let r = document.createElement(\"script\");\n    r.onload = () => {\n      a.debugLog([\"Loaded\", e]), t.jsAssetsLoaded.push(e), l(t, e), i(s);\n    }, r.onerror = () => {\n      a.debugLog([\"Error Loading\", e]), t.jsAssetsLoaded.push(e), l(t, e), i(s);\n    }, n ? n.parentNode.insertBefore(r, n) : document.body && document.body.appendChild(r), r.defer = !0, r.async = !1, r.src = e;\n  },\n  p = (e, t, s, n) => {\n    if (t.queuedAssets.indexOf(e) > -1) return;\n    if (document.head.querySelector('link[href=\"' + e + '\"]')) return t.assetsOnPage.push(e), i(s);\n    t.queuedAssets.push(e);\n    let r = document.createElement(\"link\");\n    if (r.onload = () => {\n      a.debugLog([\"Loaded\", e]), t.cssAssetsLoaded.push(e), l(t, e), i(s);\n    }, r.onerror = () => {\n      a.debugLog([\"Error Loading\", e]), t.cssAssetsLoaded.push(e), l(t, e), i(s);\n    }, r.rel = \"stylesheet\", r.href = e, !(n = n || a.scriptTag() || a.styleTag())) return document.head.appendChild(r);\n    n.parentNode.insertBefore(r, n);\n  },\n  m = (e, t) => {\n    t.modsWithRemainingAssets.map(t => {\n      ((e, t) => {\n        e && (e.remainingAssets = e.remainingAssets.filter(e => e !== t));\n      })(t, e);\n    });\n  },\n  g = e => {\n    e.modsWithRemainingAssets && e.modsWithRemainingAssets.map(t => ((e, t) => {\n      e && e.remainingAssets && t && 0 === e.remainingAssets.length && (t.modsWithoutRemainingAssets.indexOf(e.key) < 0 && t.modsWithoutRemainingAssets.push(e.key), t.modsWithRemainingAssets = t.modsWithRemainingAssets.filter(t => t.key !== e.key));\n    })(t, e));\n  },\n  h = (e, t) => {\n    e && e.map(e => i(t, e));\n  },\n  y = (e, t) => {\n    e.modsWithRemainingAssets && 0 === e.modsWithRemainingAssets.length && i(t);\n  },\n  f = (e, t, s) => {\n    e && t && (e.modsMounted = t.modsMounted, e.cssAssetsLoaded = t.cssAssetsLoaded, e.jsAssetsLoaded = t.jsAssetsLoaded, e.assetsOnPage = t.assetsOnPage, e.queuedAssets = t.queuedAssets, s && (e.cssAssetsToLog = t.cssAssetsLoaded, e.jsAssetsToLog = t.jsAssetsLoaded));\n  },\n  w = (e, t, s, n, r) => {\n    if (a.debugLog([`Loading ${r.priority ? \"priority \" : \"\"}mods`, e]), r = r || {}, !e || 0 === Object.keys(e).length) return i(n);\n    ((e, t) => {\n      Object.keys(e).map(s => {\n        const n = e[s].cssAssets,\n          r = e[s].jsAssets.filter(e => t.jsAssetsLoaded.indexOf(e) < 0),\n          o = n.filter(e => t.cssAssetsLoaded.indexOf(e) < 0);\n        r.length < 1 && o.length < 1 ? t.modsWithoutRemainingAssets.indexOf(s) < 0 && t.modsWithoutRemainingAssets.push(s) : t.modsWithRemainingAssets.push({\n          key: s,\n          remainingAssets: r.concat(o)\n        });\n      });\n    })(e, t), (e => {\n      e.cssAssetsLoaded.map(t => m(t, e)), e.jsAssetsLoaded.map(t => m(t, e));\n    })(t), g(t);\n    const o = (e => {\n      let t = [],\n        s = [];\n      return Object.keys(e).map(n => {\n        t = t.concat(e[n].jsAssets || []), s = s.concat(e[n].cssAssets || []);\n      }), {\n        jsAssets: t,\n        cssAssets: s\n      };\n    })(e);\n    a.debugLog([\"[JS]\"].concat(o.jsAssets)), a.debugLog([\"[CSS]\"].concat(o.cssAssets)), h(d(t, e), s), y(t, n);\n    const c = r.priority && (r.scriptTag || a.scriptTag()) || void 0;\n    ((e, t, s, n, r, o) => {\n      if (e && 0 !== e.length) for (; e.length > 0;) {\n        let a = e.shift();\n        t.jsAssetsLoaded.indexOf(a) > -1 || u(a, t, () => {\n          m(a, t), g(t), h(d(t, s), n), y(t, r);\n        }, o);\n      }\n    })(o.jsAssets, t, e, s, n, c), ((e, t, s, n, r, o) => {\n      if (e && 0 !== e.length) for (; e.length > 0;) {\n        let a = e.shift();\n        t.cssAssetsLoaded.indexOf(a) > -1 || p(a, t, () => {\n          m(a, t), g(t), h(d(t, s), n), y(t, r);\n        }, o);\n      }\n    })(o.cssAssets, t, e, s, n, r.styleTag), f(r.parent, t, r.priorityOnly);\n  };\na.loadPageAssets = ({\n  mods: e\n}, t) => {\n  try {\n    document;\n  } catch (e) {\n    return;\n  }\n  if (!e) return;\n  (t = t || {}).parent || (t.parent = s && s.Page || {});\n  const n = t.overallCb,\n    r = {\n      modsWithRemainingAssets: [],\n      modsWithoutRemainingAssets: [],\n      modsMounted: !t.async && t.parent.modsMounted || [],\n      queuedAssets: t.parent.queuedAssets || [],\n      cssAssetsLoaded: t.parent.cssAssetsLoaded || [],\n      jsAssetsLoaded: t.parent.jsAssetsLoaded || [],\n      assetsOnPage: t.parent.assetsOnPage || []\n    };\n  t.parent.tracking = t.parent.tracking || r;\n  const o = (e => {\n      const t = (() => {\n          if (s && s.Opts) {\n            if (\"[object Array]\" === Object.prototype.toString.call(s.Opts.priority)) return s.Opts.priority;\n            {\n              const e = \"number\" == typeof s.Opts.priority ? Math.max(parseInt(s.Opts.priority), 0) : 3;\n              return c(e);\n            }\n          }\n          return c(3);\n        })(),\n        n = {};\n      return t.map(t => {\n        t && e[t] && (n[t] = e[t]);\n      }), n;\n    })(e),\n    a = ((e, t) => {\n      const s = {};\n      return Object.keys(t).map(n => {\n        e[n] || (s[n] = t[n]);\n      }), s;\n    })(o, e),\n    d = e => {\n      i(t.modCb, e), t.modCb && e && e.key && r.modsMounted.push(e.key), f(t.parent, r, t.priorityOnly);\n    },\n    l = () => {\n      f(t.parent, r, t.priorityOnly), i(n, r);\n    };\n  t.priority = !0, w(o, r, d, () => {\n    if (t.priorityOnly) return i(l);\n    setTimeout(() => {\n      t.priority = !1, w(a, r, d, l, t);\n    }, 1);\n  }, t);\n}, a.currentVersionName = () => s.Version && s.Version.currentVersion || \"default\", a.getCurrentModVersion = e => {\n  const t = a.currentVersionName();\n  if (!e || !e.versions || !e.versions[t]) return e || {};\n  const s = {};\n  return e.versions.default = e.versions.default || {}, s.data = e.versions[t].data || e.versions.default.data || e.data, s.html = e.versions[t].hasOwnProperty(\"html\") ? e.versions[t].html : e.versions.default.html, s.css = e.versions[t].hasOwnProperty(\"css\") ? e.versions[t].css : e.versions.default.css, s;\n};\nlet A = () => \"data-cloak-\" + n.lowerCase;\nconst P = e => {\n    if (!e) return console.warn(\"cloakEl problem\");\n    e.hasAttribute(`data-${n.lowerCase}-mounted`) || e.setAttribute(A(), \"\");\n  },\n  b = e => {\n    if (!e) return console.warn(\"uncloakEl problem\");\n    e.removeAttribute(A());\n  },\n  O = [],\n  k = (e, s, r, o) => {\n    if (!e || e.length < 1) return;\n    if (r = r || \"\", o = o || \"\", s && O.indexOf(s) > -1 && \"live\" === r) return;\n    const a = document.createElement(\"style\");\n    s && (O.push(s), a.setAttribute(`${n.lowerCase}-${s}-${r}`, o)), a.innerHTML = e, t.documentHead.appendChild(a);\n  },\n  v = () => `[id^=\"${n.lowerCase}-\"],[data-${n.lowerCase}]`,\n  L = e => e.getAttribute(\"data-key\") || \"blank\",\n  j = e => {\n    if (!e.getAttribute(\"data-key\")) {\n      if (e.getAttribute(\"key\")) return e.setAttribute(\"data-key\", e.getAttribute(\"key\"));\n      if (e.id && 0 === e.id.indexOf(n.lowerCase + \"-\")) {\n        const t = new RegExp(n.lowerCase + \"-\"),\n          s = e.id.replace(t, \"\");\n        if (s.indexOf(\"-\") < 0) return e.setAttribute(\"data-key\", s);\n      }\n      e.setAttribute(\"data-key\", \"undefined\");\n    }\n  },\n  C = e => !!e && (e.innerHTML.length > 20 || e.innerHTML && e.innerHTML.trim && e.innerHTML.trim().replace(/&nbsp;/i, \"\").length > 0),\n  M = [],\n  x = e => {\n    !e || e.length < 1 || e.map(e => M.push(e));\n  },\n  $ = () => {\n    for (; M.length > 0;) {\n      let e = M.shift();\n      e && \"function\" == typeof e && e();\n    }\n  },\n  T = e => void 0 === e ? {} : JSON.parse(JSON.stringify(e)),\n  S = (e, t) => {\n    t = t || {};\n    try {\n      if (t.c || (t.c = \"limit\", (t.w || t.h) && (t.c = \"scale\"), t.w && t.h && (t.c = \"fit\")), \"limit\" !== t.c || t.w || t.h || (t.w = 1200), \"face\" === t.g && \"crop\" !== t.c && \"thumb\" !== t.c && \"lfill\" !== t.c && (t.c = \"fill\"), e) {\n        if (e.indexOf(\"image/upload\") > -1) {\n          let s = /\\/v\\d{8,12}\\//g,\n            n = e.match(s)[0],\n            r = \"/c_\" + t.c;\n          return t.w && (r += \",w_\" + t.w), t.h && (r += \",h_\" + t.h), t.g && (r += \",g_\" + t.g), e.split(s).join(r + n);\n        }\n      } else e = \"https://placeholdit.imgix.net/~text?w=\" + t.w, t.h && (e += \"&h=\" + t.h);\n      return e;\n    } catch (t) {\n      return e;\n    }\n  },\n  q = e => {\n    try {\n      const t = T(e.external);\n      return t ? \"master\" === t.project ? {\n        name: t.name,\n        project: s && s.External && s.External.project || \"master\"\n      } : t : {\n        project: null\n      };\n    } catch (e) {\n      return {\n        project: null\n      };\n    }\n  },\n  E = () => {\n    try {\n      document;\n    } catch (e) {\n      return;\n    }\n    s.Page.unmountedEls = [].slice.call(document.querySelectorAll(v().split(\",\").map(e => e + `:not([data-${n.lowerCase}-mounted])`).join(\",\"))), s.Page.unmountedEls.map(e => j(e));\n  },\n  N = (e, r) => {\n    a.debugLog([`[${e.key}] Begin mount`]);\n    let o = a.createInstanceId(e.key, \"-live-\"),\n      i = r.cloneNode(),\n      d = (e => {\n        if (!e || e.length < 1) return !1;\n        for (let t = 0; t < e.length; t++) if (e[t].indexOf(\"anymod.legacy.vue-axios.js\") > -1) return !0;\n        return !1;\n      })(e.jsAssets),\n      c = function (e, s, r) {\n        if (!e || !s || !s.key) return console.warn(\"Problem mounting mod \", e, s);\n        const o = a.currentVersionName(),\n          {\n            html: i,\n            css: d\n          } = a.getCurrentModVersion(s);\n        a.debugLog([`[${s.key}] Insert CSS`]), ((e, s) => {\n          const r = ((e, s) => t.documentHead.querySelector(`[${n.lowerCase}-${e}-${s}]`))(e, s = s || \"\");\n          if (!r) return;\n          t.documentHead.removeChild(r);\n          const o = O.indexOf(e);\n          o >= 0 && O.splice(o, 1);\n        })(s.key, \"live\"), k(d, s.key, \"live\", o);\n        let c = document.createElement(\"div\");\n        if (C(e)) {\n          let t = document.createElement(\"div\");\n          t.innerHTML = e.innerHTML, c.appendChild(t);\n        } else c.innerHTML = i || \"\";\n        let l = [].slice.call(e.attributes),\n          u = [\"data-key\"];\n        try {\n          window.temporaryParent = c;\n          for (let t = 0; t < l.length; t++) {\n            let s = l[t].nodeName;\n            \"data-\" === s.substring(0, 5) && u.indexOf(s) < 0 && c.firstElementChild.setAttribute(s, e.getAttribute(s));\n          }\n        } catch (e) {\n          console.warn(e);\n        }\n        return c.firstChild.id = `${n.lowerCase}-${s.key}`, P(c.firstChild), c.firstChild.setAttribute(\"data-\" + n.lowerCase, r), c.firstChild.setAttribute(s.key, \"\"), c.firstChild.setAttribute(`data-${n.lowerCase}-mounted`, \"\"), ((e, t) => {\n          !t || !t.cssAssets || t.cssAssets.length < 1 || t.cssAssets.map(t => {\n            t.indexOf(\"anymod.c19\") > -1 && (e.className += \" c19\"), t.indexOf(\"anymod.c24\") > -1 && (e.className += \" c24\"), t.indexOf(\"anymod.namespaced.\") > -1 && (e.className += \" \" + t.split(\"anymod.namespaced.\")[1].split(\".\")[0]);\n          });\n        })(c.firstChild, s), a.debugLog([`[${s.key}] Insert HTML`]), ((e, t, s) => {\n          let n = t.parentNode;\n          return s = s || {}, n ? (t.className && (e.className = e.className ? e.className + \" \" + t.className : t.className, (e => {\n            if (!e || !e.className) return;\n            let t = e.className.split(\" \"),\n              s = [];\n            t.map(e => {\n              e && s.indexOf(e) < 0 && s.push(e);\n            }), e.className = s.join(\" \");\n          })(e)), t.id && (e.id = t.id), t.style && t.style.cssText && (e.style.cssText = t.style.cssText), C(t) && !s.ignoreOldNodeInnerHtml && (e.innerHTML = t.innerHTML), n.insertBefore(e, t.nextSibling), n.removeChild(t), e) : console.warn(\"No parent for node\", t.outerHTML);\n        })(c.firstChild, e);\n      }(r, e, o);\n    return ((e, t, r, o) => {\n      a.debugLog([`[${t.key}] Evaluate JS`]);\n      try {\n        let i = {\n          el: e,\n          key: t.key,\n          instanceId: r,\n          selector: `[data-${n.lowerCase}=\"${r}\"]`,\n          data: T(t.data) || {},\n          external: q(t),\n          versions: T(t.versions) || {}\n        };\n        i.data.recaptchaKey = \"6LfRih4UAAAAALFsu6ztXQ-bozaU0UuapEee8-Fw\", ((e, t) => {\n          try {\n            for (let r = 0; r < t.attributes.length; r++) {\n              let o = t.attributes[r];\n              o.name && 0 === o.name.indexOf(\"data-\") && o.name.indexOf(\"data-\" + n.lowerCase) && (e.data[(s = o.name.replace(\"data-\", \"\"), s.replace(/-([a-z])/g, e => e[1].toUpperCase()))] = t.getAttribute(o.name));\n            }\n          } catch (e) {}\n          var s;\n        })(i, e), (e => {\n          Object.keys(e.data).map(t => {\n            e.hasOwnProperty(t) || (e[t] = e.data[t]);\n          });\n        })(i), function (e, t) {\n          try {\n            const {\n              html: s,\n              css: n,\n              data: r\n            } = a.getCurrentModVersion(e);\n            e.html = s, e.css = n, e.data = r, e.data.modKey = e.key, e.data.componentKey = e.key, Function(\"mod\", ';\"use strict\";var scope=mod;' + t)(e);\n          } catch (t) {\n            console.warn(`Problem evaluating mod JS [${e && e.key}]:`, t);\n          }\n        }(i, t.js), i.data.modKey = t.key, i.data.componentKey = t.key, s.Vue && o && (i.methods = i.methods || {}, i.methods.buildImage = S, i.el = i.selector, new s.Vue(i));\n      } catch (e) {\n        console.warn(\"Problem evaluating mod JS\", e);\n      }\n    })(c, e, o, d), (e => {\n      a.debugLog([`[${e}] Uncloak`]);\n      const t = document.querySelectorAll(`[data-${n.lowerCase}=\"${e}\"]`);\n      for (var s = 0; s < t.length; s++) b(t[s]);\n    })(o), s.Page.mountedModObjs[o] = {\n      key: e.key,\n      instanceId: o,\n      originalEl: i,\n      mod: e\n    }, c;\n  },\n  R = e => {\n    e && e.key && (e => {\n      const t = document.querySelectorAll(`[data-key=\"${e.key}\"]:not([data-${n.lowerCase}-mounted])`);\n      for (let s = 0; s < t.length; s++) N(e, t[s]);\n    })(e);\n  },\n  H = () => {\n    if (s.initialize(), s.assignFromAnyModPageJsIfMatch(), J(s.Page.page)) return Promise.resolve(s.Page.page);\n    for (let e = 0; e < s.Page.priorPages.length; e++) if (J(s.Page.priorPages[e])) return Promise.resolve(s.Page.priorPages[e]);\n    return I();\n  };\nfunction J(e) {\n  return e && e.id && e.host === window.location.host && e.pathname === window.location.pathname;\n}\nconst I = function () {\n    try {\n      if (!1 === s.Opts.api) return Promise.resolve({});\n      const e = [];\n      return E(), s.Page.unmountedEls.map(t => {\n        const s = L(t);\n        s && \"blank\" !== s && \"undefined\" !== s && e.push(s);\n      }), e.length < 1 ? (s.Page.page = {\n        mods: {}\n      }, Promise.resolve({})) : Promise.resolve(r.post(e)).then(function (e) {\n        return s.Page.page = e, function (e) {\n          for (let t = 0; t < s.Page.priorPages.length; t++) if (s.Page.priorPages[t].id === e.id) return s.Page.priorPages[t] = e;\n          s.Page.priorPages.push(e);\n        }(e), e;\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  },\n  U = function (e) {\n    try {\n      if (!e || !e.id || !1 === s.Opts.api) return Promise.resolve(e);\n      const t = [];\n      let n = !1;\n      return E(), s.Page.unmountedEls.map(s => {\n        const n = L(s);\n        if (n && \"blank\" !== n && \"undefined\" !== n) return e.mods[n] ? void 0 : t.push(n);\n      }), t.map(t => {\n        e.errorMessages && \"Mod not found in project\" == e.errorMessages[t] || (n = !0);\n      }), t.length < 1 || !n ? Promise.resolve(e) : Promise.resolve(r.put(e.id, t)).then(function (e) {\n        return s.Page.page = e, e;\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  },\n  W = e => {\n    try {\n      document;\n    } catch (e) {\n      return;\n    }\n    return new Promise((t, r) => {\n      if (!e.mods && \"anymod\" === n.lowerCase) return console.info(\"Page has no mods\"), t(e);\n      E(), a.loadPageAssets(e, {\n        modCb: R,\n        overallCb: () => {\n          E(), (e => {\n            if (!e || !e.implicitKeys || e.implicitKeys.length < 1) return;\n            const t = document.querySelectorAll(`[data-key=\"blank\"]:not([data-${n.lowerCase}-mounted])`);\n            for (let s = 0; s < e.implicitKeys.length; s++) {\n              if (!t[s]) return;\n              e.mods[e.implicitKeys[s]] && (t[s].id = `${n.lowerCase}-${e.implicitKeys[s]}`, t[s].setAttribute(\"data-key\", e.implicitKeys[s]), N(e.mods[e.implicitKeys[s]], t[s]));\n            }\n          })(e), t(e);\n        },\n        parent: s.Page\n      });\n    });\n  };\nlet K = Promise.resolve();\nconst V = {\n  Singleton: s,\n  alias: n,\n  constants: t,\n  crud: r,\n  utils: a,\n  addScript1ToDocument: (e, t, n) => {\n    s.initialize(), s.rq = s.rq || [], x(s.rq), s.ready = function (e) {\n      s.rq.push(e);\n    };\n    try {\n      document;\n    } catch (e) {\n      return;\n    }\n    e = e || \"https://cdn.anymod.com/v2/page/\";\n    const r = encodeURIComponent(btoa(window.location.host)),\n      o = `${e}${t}/${encodeURIComponent(btoa(window.location.pathname))}/${r}`;\n    if (document.querySelector(`script[src^='${e}']`)) return;\n    const a = document.createElement(\"script\");\n    a.defer = !0, a.src = `${o}?t=${Date.now()}`, s.isScript1Loading = !0, a.onload = () => {\n      s.isScript1Loading = !1, n && \"function\" == typeof n && n();\n    };\n    const i = document.head.getElementsByTagName(\"script\")[0];\n    i ? i.parentNode.insertBefore(a, i) : document.getElementsByTagName(\"head\")[0].appendChild(a);\n  },\n  addStyleString: k,\n  addToCallbacks: x,\n  buildImage: S,\n  checkPageAndUpdate: U,\n  cloakString: A,\n  createOrReturnPage: H,\n  executeCallbacks: $,\n  loadScript: (e, t, s) => {\n    try {\n      document;\n    } catch (e) {\n      return;\n    }\n    s = s || {};\n    let n = document.createElement(\"script\");\n    s.hasOwnProperty(\"id\") && (n.id = s.id), s.hasOwnProperty(\"async\") && n.setAttribute(\"async\", s.async), s.hasOwnProperty(\"defer\") && n.setAttribute(\"defer\", s.defer), t && (n.onload = t), document.body && document.body.appendChild(n), n.src = e;\n  },\n  loadStyle: (e, s, n) => {\n    try {\n      document;\n    } catch (e) {\n      return;\n    }\n    n = n || {};\n    let r = document.createElement(\"link\");\n    r.href = e, r.rel = \"stylesheet\", n.id && (r.id = n.id), s && (r.onload = s), t.documentHead.appendChild(r);\n  },\n  logErrorsAndTips: () => {\n    (() => {\n      if (!s.Page.page || !s.Page.page.errorMessages) return;\n      const e = Object.keys(s.Page.page.errorMessages);\n      if (!(e.length < 1)) {\n        console.log(\"%c%s\", \"color: #ea8c01;background:#fcf8e3;font-size:13px;\", \"  Project \" + s.Project + \". \" + e.length + \" mod\" + (1 === e.length ? \"\" : \"s\") + \" undeliverable for this page:  \");\n        try {\n          if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) throw new Error(\"Skip Safari for console.table\");\n          console.table(s.Page.page.errorMessages);\n        } catch (t) {\n          e.map((e, t) => console.warn(t + \": \" + e, s.Page.page.errorMessages[e]));\n        }\n      }\n    })(), (() => {\n      if (!s.Opts.tips || !window.AnyModPageJs) return;\n      let e = \"\";\n      window.AnyModPageJs.cssAssetsToLog && window.AnyModPageJs.cssAssetsToLog.length > 0 && window.AnyModPageJs.cssAssetsToLog.map(t => e += `<link href=\"${t}\" rel=\"stylesheet\">\\n`), window.AnyModPageJs.jsAssetsToLog && window.AnyModPageJs.jsAssetsToLog.length > 0 && window.AnyModPageJs.jsAssetsToLog.map(t => e += `<script defer src=\"${t}\"><\\/script>\\n`), e && console.log(`\\nTo improve page speed, add the following to this page's HTML before the closing </head> tag:\\n\\n\\x3c!-- ${n.name} assets --\\x3e\\n${e}\\x3c!-- /${n.name} assets --\\x3e\\n\\n`);\n    })();\n  },\n  modDataFromEid: e => {\n    try {\n      let n = s.Page.mountedIds();\n      for (var t = 0; t < n.length; t++) {\n        let r = s.Page.mountedModObjs[n[t]];\n        if (r.key === e) return r.mod;\n      }\n    } catch (e) {}\n    return e && console.warn(\"Mod not found: \" + e), {};\n  },\n  prepareAll: e => {\n    let t = (() => {\n      try {\n        document;\n      } catch (e) {\n        return [];\n      }\n      return [].slice.call(document.querySelectorAll(v()));\n    })();\n    return t.map(e => {\n      !function (e) {\n        e && (P(e), j(e));\n      }(e);\n    }), t;\n  },\n  processPage: W,\n  ready: e => {\n    a.debugLog([\"ready() callback\"]), M.push(e), $();\n  },\n  render: e => (a.debugLog([\"render() callback\"]), s.Page.modsMounted = [], new Promise(t => {\n    if (!s.ready) return t();\n    s.ready(() => {\n      K = K.then(() => function (e) {\n        try {\n          return Promise.resolve(H()).then(function (t) {\n            return Promise.resolve(U(t)).then(function (t) {\n              return Promise.resolve(W(t)).then(function () {\n                e && \"function\" == typeof e && e();\n              });\n            });\n          });\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      }(e)), t(K);\n    });\n  })),\n  uncloakNonMods: () => {\n    try {\n      document;\n    } catch (e) {\n      return;\n    }\n    const e = document.querySelectorAll(`[${A()}]:not([data-${n.lowerCase}])`);\n    for (var t = 0; t < e.length; t++) b(e[t]);\n  }\n};\nexport default V;","map":null,"metadata":{},"sourceType":"module"}